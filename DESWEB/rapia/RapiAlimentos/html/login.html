<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro-de-usuarios</title>
    
    <link href="../CSS/login.css" rel="stylesheet" type="text/css" > 
</head>
<body>
    <header>
        <img src="../logo.png" alt="">
        <h1>RapiAlimentos</h1>
        <nav>
            <a href="../index.html">Inicio</a>
            <a href="Productos.html">Productos</a>
            <a href="Carrito.html">Carrito</a>
            <a href="Contacto.html">Contacto</a>
            <a href="login.html">Sign in/Login </a>
        </nav>
    </header>

    <section>
        <div>
            <h1>Sign in</h1>
            <div>
                <label for="Nombre">Nombre : </label>
                <div>
                    <input type="text" name="Nombre" id="Nombre">
                </div>      
            </div>
            <div>
                <label for="Apellido">Apellido : </label>
                <div>
                    <input type="text" name="Apellido" id="Apellido"> 
                </div>
            </div>
            <div>
                <label for="Usuario">Usuario : </label>
                <div>
                    <input type="text" name="Usuario" id="Usuario"> 
                </div>
            </div>
            <div>
                <label for="Direccion">Direccion : </label>
                <div>
                    <input type="text" name="Direccion" id="Direccion"> 
                </div>
            </div>
            <div>
                <label for="ID_ciu">ciudad : </label>
                <div>
                    <input type="text" name="ID_ciu" id="ID_ciu"> 
                </div>
            </div>
            <div>
                <label for="Con">Contraseña : </label>
                <div>
                    <input type="password" name="Con" id="Con"> 
                </div>
            </div>
            <div for="Btn">
                <button id="Btn">Crear</button>
            </div>
            
            <div>
                <p id="respuesta"></p>
            </div>
        </div>

        <div>
            <h1>Log in</h1>
            <div>
                <label for="UsuarioLog">Usuario : </label>
                <div>
                    <input type="text" name="UsuarioLog" id="UsuarioLog"> 
                </div>
            </div>
            <div>
                <label for="ConLog">Contraseña : </label>
                <div>
                    <input type="password" name="ConLog" id="ConLog">
                </div>
            </div>
            <div>
                <button id="BtnLog">Iniciar</button>
            </div>

            <div>
                <p id="respuesta1"></p>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const BTNok = document.getElementById("Btn");

        BTNok.addEventListener("click", function () {
            const Nombre = document.getElementById("Nombre").value;
            const Usuario = document.getElementById("Usuario").value;
            const Apellido = document.getElementById("Apellido").value;
            const Con = document.getElementById("Con").value;
            const Direccion = document.getElementById("Direccion").value;
            const ID_ciu = document.getElementById("ID_ciu").value;

            const formData = new FormData();
            formData.append("Nombre", Nombre);
            formData.append("Usuario", Usuario);
            formData.append("Apellido", Apellido);
            formData.append("Con", Con);
            formData.append("Direccion", Direccion);
            formData.append("ID_ciu", ID_ciu); // Add ID_ciu

            fetch('../PHP/Conexion.php', {
                method: 'POST',
                body: formData,
            })
            .then(response => response.text())
            .then(data => {
                const responseMessage = document.getElementById("respuesta");
                responseMessage.textContent = data;
            })
            .catch(error => console.error('Error:', error));
        });
    });
    </script>
    <script>
        const BTNlog = document.getElementById("BtnLog");

        BTNlog.addEventListener("click", function () {
            const Usuario = document.getElementById("UsuarioLog").value;
            const contra = document.getElementById("ConLog").value;

            const formData = new FormData();
            formData.append("UsuarioLog", Usuario);
            formData.append("ConLog", contra);

            fetch('../PHP/Conexion.php', {
                method: 'POST',
                body: formData,
            })
            .then(response => response.text())
            .then(data => {const responseMessage = document.getElementById("respuesta1");
                responseMessage.textContent = data;})
                
            .catch(error => console.error('Error:', error));
        });
    </script>
    <footer>
        <p>Copyright © 2023. Todos los derechos reservados.</p>
    </footer>
</body>
</html>